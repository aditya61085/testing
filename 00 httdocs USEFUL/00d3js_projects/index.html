<!DOCTYPE html>
<html>
  <head>
	<script type="text/javascript" src="d3.min.js"></script>
  </head>
  <body>
	<div id="p-wrapper">
		<div>Binding Data to DOM Elements: Using Data Bound to DOM Elements:</div>
		<p>Hello!</p>
	</div>
	
	<hr />
	
	<div id="axis">
		<div>D3 Axis:</div>
	</div>
	<div id="circle-wrapper">
		<div>Adding an SVG element:</div>
		<svg width="50" height="50">
			<circle cx="25" cy="25" r="25" fill="purple" />
		</svg>
	</div>
	<div id="big-circle-wrapper"><div>Creating SVG Elements Based on Data:</div></div>
	<div id="multi-circle-wrapper"><div>Using the SVG Coordinate Space</div></div>
	<div id="json-circle-wrapper"><div>Data Structures D3.js Accepts: Using JSON to Simplify Code:</div></div>
	<div id="shapes-wrapper"><div>SVG Basic Shapes and D3.js:</div></div>
	<div id="svg-grp">
		<div>SVG Group Element and SVG Transform:</div>
		<svg width="200" height="200" style="border: 1px solid;">
		  <g transform="translate(20,0)">
			<circle cx="100" cy="20" r="20" fill="green" />
			<circle cx="150" cy="70" r="20" fill="purple" />
		  </g>
		  <g>
			<rect x="100" y="110" height="30" width="30" fill="blue" />
			<rect x="150" y="160" height="30" width="30" fill="red" />
		  </g>
		</svg>
	</div>
	<div id="text-wrapper">
		<div>SVG Text Element:</div>
		<svg width="150" style="border: 1px solid;">
			<circle cx="20" cy="20" r="20" fill="green" />
			<circle cx="70" cy="70" r="20" fill="purple" />
			<text x="20" y="20" font-family="sans-serif" font-size="20px" fill="red">Hello!</text>
			<text x="70" y="70" font-family="sans-serif" font-size="20px" fill="red">Hello!</text>
		</svg>
	</div>
	
	
<script type="text/javascript">
d3.select("#p-wrapper").append("p").style("border", "1px solid").html("Hello!");

var theData = [ 5, 6, 7, 8 ]; //There exists 2 p elements already. So other 2 will be added and Enter seen twice.
var p = d3.select("#p-wrapper").selectAll("p")
	.data(theData)
	.enter()
	.append("p")
	.text(function (d, i) {
		console.log(this);
		return "Data: i = " + i + " d = "+d;
	});

d3.select("#circle-wrapper")
	.append("svg")
	.attr("width", 50)
	.attr("height", 50)
	.style("border", "1px solid black")
		.append("circle")
		.attr("cx", 25)
		.attr("cy", 25)
		.attr("r", 25)
		.style("fill", "purple");


var circleRadii = [40, 20, 10];
d3.select("#big-circle-wrapper")
	.append("svg")
	.attr("width", 100)
	.attr("height", 100)
	.style("border", "1px solid black")
		.selectAll("circle")
		.data(circleRadii)
		.enter()
		.append("circle")
			.attr("cx", 50)
			.attr("cy", 50)
			.attr("r", function(d){return d;})
			.style("fill", function(d) {
				 var returnColor;
				 if (d === 40) { returnColor = "green";
				 } else if (d === 20) { returnColor = "purple";
				 } else if (d === 10) { returnColor = "red"; }
				 return returnColor;
			});

	
var spaceCircles = [30, 70, 110];
d3.select("#multi-circle-wrapper")
	.append("svg")
	.attr("width", 150)
	.attr("height", 150)
	.style("border", "1px solid black")
		.selectAll("circle")
		.data(spaceCircles)
		.enter()
		.append("circle")
			.attr("cx", function(d){return d;})
			.attr("cy", function(d){return d;})
			.attr("r", 20)
			.style("fill", function(d) {
				 var returnColor;
				 if (d === 30) { returnColor = "green";
				 } else if (d === 70) { returnColor = "purple";
				 } else if (d === 110) { returnColor = "red"; }
				 return returnColor;
			});

var jsonCircles = [
	{"x_axis": 30,"y_axis": 30,"radius": 20,"color" : "green"}, 
	{"x_axis": 70,"y_axis": 70,"radius": 20,"color" : "purple"},
	{"x_axis": 110,"y_axis": 100,"radius": 20,"color" : "red"}
];
d3.select("#json-circle-wrapper")
	.append("svg")
	.attr("width", 150)
	.attr("height", 150)
	.style("border", "1px solid black")
		.selectAll("circle")
		.data(jsonCircles)
		.enter()
		.append("circle")
			.attr("cx", function (d) { return d.x_axis; })
			.attr("cy", function (d) { return d.y_axis; })
			.attr("r", function (d) { return d.radius; })
			.style("fill", function(d) { return d.color; });
	

//Drawing an SVG Rectangle using D3.js
d3.select("#shapes-wrapper").append("svg")
	.attr("width", 100)
	.attr("height", 100)
	.style("border", "1px solid black")
	.append("rect")
		.attr("x", 10)
		.attr("y", 10)
		.attr("width", 50)
		.attr("height", 70);
	
//Drawing an SVG Ellipse using D3.js
d3.select("#shapes-wrapper").append("svg")
	.attr("width", 100)
	.attr("height", 100)
	.style("border", "1px solid black")
	.append("ellipse")
		.attr("cx", 50)
		.attr("cy", 50)
		.attr("rx", 25)
		.attr("ry", 10);

//Drawing an SVG Straight Line using D3.js
d3.select("#shapes-wrapper").append("svg")
	.attr("width", 100)
	.attr("height", 100)
	.style("border", "1px solid black")
	.append("line")
		.attr("x1", 5)
		.attr("y1", 5)
		.attr("x2", 50)
		.attr("y2", 50)
		.attr("stroke-width", 2)
		.attr("stroke", "black");



//Drawing Polyline & Polygon SVG Basic Shapes using D3.js
//The data for our line
var lineData = [ { "x": 1,   "y": 5},  { "x": 20,  "y": 20},
                 { "x": 40,  "y": 10}, { "x": 60,  "y": 40},
                 { "x": 80,  "y": 5},  { "x": 100, "y": 60}];
//This is the accessor function we talked about above
var lineFunction = d3.svg.line() //______________ VI
	.x(function(d) { return d.x; })
	.y(function(d) { return d.y; })
	.interpolate("monotone"); 	//______________ linear step-before step-after basis basis-open basis-closed bundle cardinal cardinal-open cardinal-closed monotone
d3.select("#shapes-wrapper").append("svg")
	.attr("width", 130)
	.style("border", "1px solid black")
	.attr("height", 100)
	.append("path")
		.attr("d", lineFunction(lineData)) //______________ VI
		.attr("stroke", "blue")
		.attr("stroke-width", 2)
		.attr("fill", "none");



var initialScaleData = [0, 1000, 3000, 2000, 5000, 4000, 7000, 6000, 9000, 8000, 10000];
var newScaledData = [];
var minDataPoint = d3.min(initialScaleData);
var maxDataPoint = d3.max(initialScaleData);
var linearScale = d3.scale.linear()
						.domain([minDataPoint,maxDataPoint])
						.range([0,100]);
for (var i = 0; i < initialScaleData.length; i++) {
	newScaledData[i] = linearScale(initialScaleData[i]);
}
console.log(newScaledData);
//[0, 10, 30, 20, 50, 40, 70, 60, 90, 80, 100]






var circleData = [
  { "cx": 20, "cy": 20, "radius": 20, "color" : "green" },
  { "cx": 70, "cy": 70, "radius": 20, "color" : "purple" }];
var rectangleData = [
  { "rx": 110, "ry": 110, "height": 30, "width": 30, "color" : "blue" },
  { "rx": 160, "ry": 160, "height": 30, "width": 30, "color" : "red" }];
var svgContainer = d3.select("#svg-grp").append("svg")
                                    .attr("width",200)
                                    .attr("height",200)
									.style("border", "1px solid black");
//We add the SVG Group Element Transform Here
var circleGroup = svgContainer.append("g")
                               .attr("transform", "translate(80,0)");
//Circles added to the circleGroup
var circles = circleGroup.selectAll("circle")
                          .data(circleData)
                          .enter()
                          .append("circle");
var circleAttributes = circles
                       .attr("cx", function (d) { return d.cx; })
                       .attr("cy", function (d) { return d.cy; })
                       .attr("r", function (d) { return d.radius; })
                       .style("fill", function (d) { return d.color; });
//Rectangles added to the svgContainer
var rectangles = svgContainer.selectAll("rect")
                             .data(rectangleData)
                             .enter()
                             .append("rect");
var rectangleAttributes = rectangles
                          .attr("x", function (d) { return d.rx; })
                          .attr("y", function (d) { return d.ry; })
                          .attr("height", function (d) { return d.height; })
                          .attr("width", function (d) { return d.width; })
                          .style("fill", function(d) { return d.color; });



//Circle Data Set
var circleData = [
  { "cx": 20, "cy": 20, "radius": 20, "color" : "green" },
  { "cx": 70, "cy": 70, "radius": 20, "color" : "purple" }];
//Create the SVG Viewport
var svgContainer = d3.select("#text-wrapper").append("svg")
                                     .attr("width",150)
                                     .attr("height",150)
									 .style("border", "1px solid black");
//Add circles to the svgContainer
var circles = svgContainer.selectAll("circle")
                           .data(circleData)
                           .enter()
                           .append("circle");
//Add the circle attributes
var circleAttributes = circles
                       .attr("cx", function (d) { return d.cx; })
                       .attr("cy", function (d) { return d.cy; })
                       .attr("r", function (d) { return d.radius; })
                       .style("fill", function (d) { return d.color; });

//Add the SVG Text Element to the svgContainer
var text = svgContainer.selectAll("text")
                        .data(circleData)
                        .enter()
                        .append("text");
//Add SVG Text Element Attributes
var textLabels = text
                 .attr("x", function(d) { return d.cx; })
                 .attr("y", function(d) { return d.cy; })
                 .text( function (d) { return "( " + d.cx + ", " + d.cy +" )"; })
                 .attr("font-family", "sans-serif")
                 .attr("font-size", "20px")
                 .attr("fill", "red");


//D3 axis
//Create the SVG Viewport
var svgContainer = d3.select("#axis").append("svg")
                                     .attr("width", 400)
                                     .attr("height", 30);
//Create the Scale we will use for the Axis
var axisScale = d3.scale.linear()
                         .domain([0, 100])
                         .range([0, 400]);
//Create the Axis
var xAxis = d3.svg.axis()
                   .scale(axisScale);
//Create an SVG group Element for the Axis elements and call the xAxis function
var xAxisGroup = svgContainer.append("g")
                              .call(xAxis);
</script>
</body>
</html>

